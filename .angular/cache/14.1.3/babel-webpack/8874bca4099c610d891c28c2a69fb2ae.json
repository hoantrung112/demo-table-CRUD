{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Mr_Trung/OneDrive/Desktop/primeng-tablecrud-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/Users/Mr_Trung/OneDrive/Desktop/primeng-tablecrud-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Mr_Trung/OneDrive/Desktop/primeng-tablecrud-demo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { Component } from '@angular/core';\nimport { ProductService } from './productservice';\nimport { ConfirmationService } from 'primeng/api';\nimport { MessageService } from 'primeng/api';\n\nvar AppComponent = /*#__PURE__*/function () {\n  function AppComponent(productService, messageService, confirmationService) {\n    _classCallCheck(this, AppComponent);\n\n    this.productService = productService;\n    this.messageService = messageService;\n    this.confirmationService = confirmationService;\n  }\n\n  _createClass(AppComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.productService.getProducts().then(function (data) {\n        return _this.products = data;\n      });\n    }\n  }, {\n    key: \"openNew\",\n    value: function openNew() {\n      this.product = {};\n      this.submitted = false;\n      this.productDialog = true;\n    }\n  }, {\n    key: \"deleteSelectedProducts\",\n    value: function deleteSelectedProducts() {\n      var _this2 = this;\n\n      this.confirmationService.confirm({\n        message: 'Are you sure you want to delete the selected products?',\n        header: 'Confirm',\n        icon: 'pi pi-exclamation-triangle',\n        accept: function accept() {\n          _this2.products = _this2.products.filter(function (val) {\n            return !_this2.selectedProducts.includes(val);\n          });\n          _this2.selectedProducts = null;\n\n          _this2.messageService.add({\n            severity: 'success',\n            summary: 'Successful',\n            detail: 'Products Deleted',\n            life: 3000\n          });\n        }\n      });\n    }\n  }, {\n    key: \"editProduct\",\n    value: function editProduct(product) {\n      this.product = Object.assign({}, product);\n      this.productDialog = true;\n    }\n  }, {\n    key: \"deleteProduct\",\n    value: function deleteProduct(product) {\n      var _this3 = this;\n\n      this.confirmationService.confirm({\n        message: 'Are you sure you want to delete ' + product.name + '?',\n        header: 'Confirm',\n        icon: 'pi pi-exclamation-triangle',\n        accept: function accept() {\n          _this3.products = _this3.products.filter(function (val) {\n            return val.id !== product.id;\n          });\n          _this3.product = {};\n\n          _this3.messageService.add({\n            severity: 'success',\n            summary: 'Successful',\n            detail: 'Product Deleted',\n            life: 3000\n          });\n        }\n      });\n    }\n  }, {\n    key: \"hideDialog\",\n    value: function hideDialog() {\n      this.productDialog = false;\n      this.submitted = false;\n    }\n  }, {\n    key: \"saveProduct\",\n    value: function saveProduct() {\n      this.submitted = true;\n\n      if (this.product.name.trim()) {\n        if (this.product.id) {\n          this.products[this.findIndexById(this.product.id)] = this.product;\n          this.messageService.add({\n            severity: 'success',\n            summary: 'Successful',\n            detail: 'Product Updated',\n            life: 3000\n          });\n        } else {\n          this.product.id = this.createId();\n          this.product.image = 'product-placeholder.svg';\n          this.products.push(this.product);\n          this.messageService.add({\n            severity: 'success',\n            summary: 'Successful',\n            detail: 'Product Created',\n            life: 3000\n          });\n        }\n\n        this.products = _toConsumableArray(this.products);\n        this.productDialog = false;\n        this.product = {};\n      }\n    }\n  }, {\n    key: \"findIndexById\",\n    value: function findIndexById(id) {\n      var index = -1;\n\n      for (var i = 0; i < this.products.length; i++) {\n        if (this.products[i].id === id) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: \"createId\",\n    value: function createId() {\n      var id = '';\n      var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n      for (var i = 0; i < 5; i++) {\n        id += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n\n      return id;\n    }\n  }]);\n\n  return AppComponent;\n}();\n\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styles: [\"\\n        :host ::ng-deep .p-dialog .product-image {\\n            width: 150px;\\n            margin: 0 auto 2rem auto;\\n            display: block;\\n        }\\n    \"],\n  styleUrls: ['./app.component.scss']\n}), __metadata(\"design:paramtypes\", [ProductService, MessageService, ConfirmationService])], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module"}